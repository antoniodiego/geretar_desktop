{
    "sourceFile": "src/main/java/br/com/antoniodiego/gertarefas/ui/principal/JanelaPrincipalMatisse.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1751340800144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751341420102,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n package br.com.antoniodiego.gertarefas.ui.principal;\n \n+import br.com.antoniodiego.gertarefas.controller.JanPrinMatController;\n import br.com.antoniodiego.gertarefas.persist.daos.DAOTarefa;\n import br.com.antoniodiego.gertarefas.pojo.Tarefa;\n import br.com.antoniodiego.gertarefas.ui.dialogos.editartarefa.DialogoEditarTarefa;\n import br.com.antoniodiego.gertarefas.ui.novatarefa.DialogoNovaTarView;\n"
                },
                {
                    "date": 1751341836201,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n package br.com.antoniodiego.gertarefas.ui.principal;\n \n import br.com.antoniodiego.gertarefas.controller.JanPrinMatController;\n-import br.com.antoniodiego.gertarefas.persist.daos.DAOTarefa;\n+import br.com.antoniodiego.gertarefas.persist.DAOTarefa;\n import br.com.antoniodiego.gertarefas.pojo.Tarefa;\n import br.com.antoniodiego.gertarefas.ui.dialogos.editartarefa.DialogoEditarTarefa;\n import br.com.antoniodiego.gertarefas.ui.novatarefa.DialogoNovaTarView;\n import br.com.antoniodiego.gertarefas.ui.principal.paineis.PainelTabelaTarefas;\n"
                }
            ],
            "date": 1751340800144,
            "name": "Commit-0",
            "content": "package br.com.antoniodiego.gertarefas.ui.principal;\n\nimport br.com.antoniodiego.gertarefas.persist.daos.DAOTarefa;\nimport br.com.antoniodiego.gertarefas.pojo.Tarefa;\nimport br.com.antoniodiego.gertarefas.ui.dialogos.editartarefa.DialogoEditarTarefa;\nimport br.com.antoniodiego.gertarefas.ui.novatarefa.DialogoNovaTarView;\nimport br.com.antoniodiego.gertarefas.ui.principal.paineis.PainelTabelaTarefas;\nimport br.com.antoniodiego.gertarefas.ui.vercomentarios.DialogoVerComentarios;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport br.com.antoniodiego.gertarefas.util.Utilid;\nimport javax.swing.JTable;\nimport net.minidev.json.JSONObject;\n\n/**\n *\n * @author Antonio Diêgo\n */\npublic class JanelaPrincipalMatisse extends javax.swing.JFrame {\n\n    /**\n     * Creates new form JanelaPrincipalMatisse\n     */\n    public JanelaPrincipalMatisse() {\n        initComponents();\n    }\n\n    public PainelTabelaTarefas getPainelTarefas() {\n        return painelTabelaTarefas1;\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // <editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\">//GEN-BEGIN:initComponents\n    private void initComponents() {\n\n        splitPaneDireito = new javax.swing.JSplitPane();\n        painelTabelaTarefas1 = new br.com.antoniodiego.gertarefas.ui.principal.paineis.PainelTabelaTarefas();\n        painelFuncoes1 = new br.com.antoniodiego.gertarefas.ui.principal.paineis.PainelFuncoes(painelTabelaTarefas1,this);\n        jToolBar1 = new javax.swing.JToolBar();\n        btNovaTarefa = new javax.swing.JButton();\n        jSeparator2 = new javax.swing.JToolBar.Separator();\n        btVer = new javax.swing.JButton();\n        btComentarios = new javax.swing.JButton();\n        barraDeMenus = new javax.swing.JMenuBar();\n        menuArquivo = new javax.swing.JMenu();\n        itemNovaTarefa = new javax.swing.JMenuItem();\n        miExcluirTarefa = new javax.swing.JMenuItem();\n        menuVer = new javax.swing.JMenuItem();\n        jMenuItem7 = new javax.swing.JMenuItem();\n        jMenuItem10 = new javax.swing.JMenuItem();\n        jMenuItem11 = new javax.swing.JMenuItem();\n        jMenuItem12 = new javax.swing.JMenuItem();\n        menuExportarComoXML = new javax.swing.JMenuItem();\n        jMenuItem14 = new javax.swing.JMenuItem();\n        jSeparator1 = new javax.swing.JPopupMenu.Separator();\n        jMenuItem5 = new javax.swing.JMenuItem();\n        menuEditar = new javax.swing.JMenu();\n        sepMenuEd = new javax.swing.JPopupMenu.Separator();\n        menuOp = new javax.swing.JMenuItem();\n        jMenu3 = new javax.swing.JMenu();\n        jMenu4 = new javax.swing.JMenu();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setTitle(\"Gerente de tarefas\");\n        setLocationByPlatform(true);\n        setPreferredSize(new java.awt.Dimension(1200, 600));\n        addWindowListener(new java.awt.event.WindowAdapter() {\n            public void windowClosing(java.awt.event.WindowEvent evt) {\n                formWindowClosing(evt);\n            }\n        });\n\n        splitPaneDireito.setResizeWeight(1.0);\n        splitPaneDireito.setOneTouchExpandable(true);\n\n        painelTabelaTarefas1.setReferenciaJan(this);\n        painelTabelaTarefas1.setPreferredSize(new java.awt.Dimension(800, 600));\n        splitPaneDireito.setLeftComponent(painelTabelaTarefas1);\n        splitPaneDireito.setRightComponent(painelFuncoes1);\n\n        jToolBar1.setRollover(true);\n\n        btNovaTarefa.setText(\"Nova tarefa\");\n        btNovaTarefa.setFocusable(false);\n        btNovaTarefa.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);\n        btNovaTarefa.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);\n        btNovaTarefa.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btNovaTarefaActionPerformed(evt);\n            }\n        });\n        jToolBar1.add(btNovaTarefa);\n        jToolBar1.add(jSeparator2);\n\n        btVer.setText(\"Ver\");\n        btVer.setFocusable(false);\n        btVer.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);\n        btVer.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);\n        btVer.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btVerActionPerformed(evt);\n            }\n        });\n        jToolBar1.add(btVer);\n\n        btComentarios.setText(\"Comentários\");\n        btComentarios.setFocusable(false);\n        btComentarios.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);\n        btComentarios.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);\n        btComentarios.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btComentariosActionPerformed(evt);\n            }\n        });\n        jToolBar1.add(btComentarios);\n\n        menuArquivo.setText(\"Arquivo\");\n\n        itemNovaTarefa.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_N, java.awt.event.InputEvent.CTRL_DOWN_MASK));\n        itemNovaTarefa.setText(\"Nova tarefa\");\n        itemNovaTarefa.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                itemNovaTarefaActionPerformed(evt);\n            }\n        });\n        menuArquivo.add(itemNovaTarefa);\n\n        miExcluirTarefa.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_DELETE, 0));\n        miExcluirTarefa.setText(\"Excluir tarefa\");\n        miExcluirTarefa.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                miExcluirTarefaActionPerformed(evt);\n            }\n        });\n        menuArquivo.add(miExcluirTarefa);\n\n        menuVer.setText(\"Ver detalhes\");\n        menuVer.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                menuVerActionPerformed(evt);\n            }\n        });\n        menuArquivo.add(menuVer);\n\n        jMenuItem7.setText(\"Sair\");\n        menuArquivo.add(jMenuItem7);\n\n        jMenuItem10.setText(\"Reiniciar banco\");\n        menuArquivo.add(jMenuItem10);\n\n        jMenuItem11.setText(\"Fazer backup do banco\");\n        menuArquivo.add(jMenuItem11);\n\n        jMenuItem12.setText(\"Exportar como texto\");\n        menuArquivo.add(jMenuItem12);\n\n        menuExportarComoXML.setText(\"Exportar XML\");\n        menuExportarComoXML.setToolTipText(\"Exporta todas as tarefas para um arquivo XML\");\n        menuExportarComoXML.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                menuExportarComoXMLActionPerformed(evt);\n            }\n        });\n        menuArquivo.add(menuExportarComoXML);\n\n        jMenuItem14.setText(\"Importar de XML\");\n        menuArquivo.add(jMenuItem14);\n        menuArquivo.add(jSeparator1);\n\n        jMenuItem5.setForeground(new java.awt.Color(255, 0, 0));\n        jMenuItem5.setText(\"Excluir tudo\");\n        menuArquivo.add(jMenuItem5);\n\n        barraDeMenus.add(menuArquivo);\n\n        menuEditar.setText(\"Editar\");\n        menuEditar.add(sepMenuEd);\n\n        menuOp.setText(\"Opções\");\n        menuEditar.add(menuOp);\n\n        barraDeMenus.add(menuEditar);\n\n        jMenu3.setText(\"Exibir\");\n        barraDeMenus.add(jMenu3);\n\n        jMenu4.setText(\"Ajuda\");\n        barraDeMenus.add(jMenu4);\n\n        setJMenuBar(barraDeMenus);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(splitPaneDireito, javax.swing.GroupLayout.DEFAULT_SIZE, 1086, Short.MAX_VALUE)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                        .addGap(0, 0, 0)))\n                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(splitPaneDireito, javax.swing.GroupLayout.DEFAULT_SIZE, 680, Short.MAX_VALUE)\n                .addContainerGap())\n        );\n\n        pack();\n    }// </editor-fold>//GEN-END:initComponents\n\n\n    private void formWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowClosing\n\n        Utilid.persisteInfoTabela(painelTabelaTarefas1.getTabelaTarefas());\n\n        JSONObject objetoProp = new JSONObject();\n        objetoProp.appendField(\"largura\", this.getWidth());\n        objetoProp.appendField(\"altura\", this.getHeight());\n        objetoProp.appendField(\"estado\", this.getExtendedState());\n\n        File arquivoProp = new File(\"propriedades.json\");\n        FileWriter fw;\n        try {\n            fw = new FileWriter(arquivoProp);\n            fw.append(objetoProp.toJSONString());\n            fw.flush();\n            fw.close();\n        } catch (IOException ex) {\n            Logger.getLogger(JanelaPrincipalMatisse.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }//GEN-LAST:event_formWindowClosing\n\n    private void btNovaTarefaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btNovaTarefaActionPerformed\n        JanPrinMatController.LOG_CONTR_PRINC.trace(\"Item nova tar\");\n\n        DialogoNovaTarView dialogoNovaTar = new DialogoNovaTarView(this,\n                painelTabelaTarefas1.getModeloTabela());\n        dialogoNovaTar.setVisible(true);\n    }//GEN-LAST:event_btNovaTarefaActionPerformed\n\n    private void menuExportarComoXMLActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuExportarComoXMLActionPerformed\n        // TODO add your handling code here:\n    }//GEN-LAST:event_menuExportarComoXMLActionPerformed\n\n    private void miExcluirTarefaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_miExcluirTarefaActionPerformed\n        JTable tabelaTarefas = painelTabelaTarefas1.getTabelaTarefas();\n        int idxEscolhida = tabelaTarefas.getSelectedRow();\n        int idxModel = tabelaTarefas.convertRowIndexToModel(idxEscolhida);\n\n        //Exclui do banco\n        Tarefa t = painelTabelaTarefas1.getModeloTabela().getTarefas().get(idxModel);\n        DAOTarefa daoT = new DAOTarefa();\n        daoT.exclui(t);\n\n        painelTabelaTarefas1.getModeloTabela().removeTarefa(idxModel);\n\n        tabelaTarefas.getSelectionModel().setSelectionInterval(idxEscolhida, idxEscolhida);\n    }//GEN-LAST:event_miExcluirTarefaActionPerformed\n\n    private void itemNovaTarefaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_itemNovaTarefaActionPerformed\n        JanPrinMatController.LOG_CONTR_PRINC.trace(\"Item nova tar\");\n\n        DialogoNovaTarView dialogoNovaTar = new DialogoNovaTarView(this, \n                painelTabelaTarefas1.getModeloTabela());\n        dialogoNovaTar.setVisible(true);\n    }//GEN-LAST:event_itemNovaTarefaActionPerformed\n\n    private void menuVerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuVerActionPerformed\n\n    }//GEN-LAST:event_menuVerActionPerformed\n\n    private void btVerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btVerActionPerformed\n        DialogoEditarTarefa dialogEditar = new DialogoEditarTarefa(this,\n                painelTabelaTarefas1.getModeloTabela());\n        Tarefa t = painelTabelaTarefas1.getModeloTabela().getTarefas().\n                get(painelTabelaTarefas1.\n                        getTabelaTarefas().\n                        convertRowIndexToModel(painelTabelaTarefas1.\n                                getTabelaTarefas().getSelectedRow()));\n        dialogEditar.setTarefa(t);\n        dialogEditar.setVisible(true);\n    }//GEN-LAST:event_btVerActionPerformed\n\n    private void btComentariosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btComentariosActionPerformed\n        DialogoVerComentarios verComent = new DialogoVerComentarios(this,\n                painelTabelaTarefas1.getModeloTabela());\n        Tarefa t = painelTabelaTarefas1.getModeloTabela().getTarefas().\n                get(painelTabelaTarefas1.getTabelaTarefas().\n                        convertRowIndexToModel(painelTabelaTarefas1.\n                                getTabelaTarefas().getSelectedRow()));\n        verComent.setTarefa(t);\n        verComent.setVisible(true);\n    }//GEN-LAST:event_btComentariosActionPerformed\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //<editor-fold defaultstate=\"collapsed\" desc=\" Look and feel setting code (optional) \">\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (\"Nimbus\".equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(JanelaPrincipalMatisse.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(JanelaPrincipalMatisse.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(JanelaPrincipalMatisse.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(JanelaPrincipalMatisse.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //</editor-fold>\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new JanelaPrincipalMatisse().setVisible(true);\n            }\n        });\n    }\n\n    private JanPrinMatController controller;\n\n    public JanPrinMatController getController() {\n        return controller;\n    }\n\n    public void setController(JanPrinMatController controller) {\n        this.controller = controller;\n    }\n\n\n    // Variables declaration - do not modify//GEN-BEGIN:variables\n    private javax.swing.JMenuBar barraDeMenus;\n    private javax.swing.JButton btComentarios;\n    private javax.swing.JButton btNovaTarefa;\n    private javax.swing.JButton btVer;\n    private javax.swing.JMenuItem itemNovaTarefa;\n    private javax.swing.JMenu jMenu3;\n    private javax.swing.JMenu jMenu4;\n    private javax.swing.JMenuItem jMenuItem10;\n    private javax.swing.JMenuItem jMenuItem11;\n    private javax.swing.JMenuItem jMenuItem12;\n    private javax.swing.JMenuItem jMenuItem14;\n    private javax.swing.JMenuItem jMenuItem5;\n    private javax.swing.JMenuItem jMenuItem7;\n    private javax.swing.JPopupMenu.Separator jSeparator1;\n    private javax.swing.JToolBar.Separator jSeparator2;\n    private javax.swing.JToolBar jToolBar1;\n    private javax.swing.JMenu menuArquivo;\n    private javax.swing.JMenu menuEditar;\n    private javax.swing.JMenuItem menuExportarComoXML;\n    private javax.swing.JMenuItem menuOp;\n    private javax.swing.JMenuItem menuVer;\n    private javax.swing.JMenuItem miExcluirTarefa;\n    private br.com.antoniodiego.gertarefas.ui.principal.paineis.PainelFuncoes painelFuncoes1;\n    private br.com.antoniodiego.gertarefas.ui.principal.paineis.PainelTabelaTarefas painelTabelaTarefas1;\n    private javax.swing.JPopupMenu.Separator sepMenuEd;\n    private javax.swing.JSplitPane splitPaneDireito;\n    // End of variables declaration//GEN-END:variables\n}\n"
        }
    ]
}