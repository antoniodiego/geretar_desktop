{
    "sourceFile": "src/main/java/br/com/antoniodiego/gertarefas/app/Principal.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1751340800145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751341420104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n import org.apache.logging.log4j.core.config.Configuration;\n import org.apache.logging.log4j.core.config.LoggerConfig;\n import org.apache.logging.log4j.core.layout.PatternLayout;\n \n-import br.com.antoniodiego.gertarefas.ui.principal.JanPrinMatController;\n+import br.com.antoniodiego.gertarefas.controller.JanPrinMatController;\n \n /**\n  * Ponto de entrada do programa\n  *\n"
                },
                {
                    "date": 1751341785424,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-package br.com.antoniodiego.gertarefas.principal;\n+package br.com.antoniodiego.gertarefas.app;\n \n import java.time.LocalDateTime;\n import java.time.format.DateTimeFormatter;\n \n"
                }
            ],
            "date": 1751340800145,
            "name": "Commit-0",
            "content": "package br.com.antoniodiego.gertarefas.principal;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.core.Appender;\nimport org.apache.logging.log4j.core.Layout;\nimport org.apache.logging.log4j.core.LoggerContext;\nimport org.apache.logging.log4j.core.appender.FileAppender;\nimport org.apache.logging.log4j.core.config.Configuration;\nimport org.apache.logging.log4j.core.config.LoggerConfig;\nimport org.apache.logging.log4j.core.layout.PatternLayout;\n\nimport br.com.antoniodiego.gertarefas.ui.principal.JanPrinMatController;\n\n/**\n * Ponto de entrada do programa\n *\n * @author Ant√¥nio Diego <antoniodiegoluz at gmail.com>\n */\npublic class Principal {\n\n    public Principal() {\n        super();\n    }\n\n    /**\n     * Banco separado\n     */\n    public static boolean DESENV = false;\n\n    private static final Logger LOG_PRINC = LogManager.getLogger(\"principal\");\n\n    /**\n     *\n     */\n    public static final Logger LOG_ARQUIVO = LogManager.\n            getLogger(\"saida_para_arquivo\");\n\n    public static final void main(String[] args) {\n        System.out.println(\"main\");\n\n        LOG_PRINC.traceEntry();\n\n        LOG_PRINC.trace(\"Configurando loggers...\");\n        configuraLogger();\n\n        LOG_ARQUIVO.traceEntry();\n        LOG_PRINC.traceEntry();\n        JanPrinMatController contPrinc = new JanPrinMatController();\n\n        contPrinc.instanciaJanelaPrincipal();\n\n        contPrinc.exibeJanelaPrincipal();\n        contPrinc.inicializaSistema();\n\n        if (DESENV == false) {\n            // TODO: Desativar debug\n        }\n\n        LOG_ARQUIVO.traceExit();\n    }\n\n    private static void configuraLogger() {\n        System.out.println(\"Configura loggers\");\n\n        // Config arq\n        LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n        Configuration cf = ctx.getConfiguration();\n\n        // LoggerConfig confLogRoot= cf.getLoggerConfig(\"root\");\n        // System.out.println(\"Level Root \"+ confLogRoot.getLevel());\n        // Caminho arquivo\n        StringBuilder caminhoArquivoLogger = new StringBuilder(\"logs/\");\n\n        LocalDateTime dataHa = LocalDateTime.now();\n\n        DateTimeFormatter format = DateTimeFormatter.ofPattern(\"dd-MM-YYYY\");\n\n        String dataAt = dataHa.format(format);\n\n        caminhoArquivoLogger.append(dataAt).append(\"/\");\n\n        // Adiciona a data\n        DateTimeFormatter formataHora = DateTimeFormatter.ofPattern(\"HH\");\n\n        // LOG_PRINC.debug(\"Mes data atual: {}\", dataHa.getMonth());\n        String dataFormatada = dataHa.format(formataHora);\n\n        caminhoArquivoLogger.append(dataFormatada);\n        caminhoArquivoLogger.append(\".log\");\n\n        System.out.println(\"Caminho arquivo: \" + caminhoArquivoLogger.toString());\n\n        Layout<String> la = PatternLayout.newBuilder()\n                .withPattern(\"%d{HH:mm:ss} %-5level %logger{36} %class{36} %L %M %m%n\").build();\n\n        Appender arqu = FileAppender.newBuilder().withName(\"arquivo\").withFileName(caminhoArquivoLogger.toString())\n                .withAppend(true)\n                .withLayout(la)\n                .build();\n\n        arqu.start();\n        LoggerConfig confLogArquivo = cf.getLoggerConfig(\"saida_para_arquivo\");\n        confLogArquivo.setLevel(Level.TRACE);\n        confLogArquivo.addAppender(arqu, Level.TRACE, null);\n\n        LoggerConfig confLogGered = cf.getLoggerConfig(\"principal\");\n        confLogGered.addAppender(arqu, Level.TRACE, null);\n\n        // System.out.println(\"Level Root \"+ confLogRoot.getLevel());\n        System.out.println(\"Atualizando loggers...\");\n\n        // confLogRoot.setLevel(Level.ERROR);\n        ctx.updateLoggers();\n\n        // System.out.println(\"Level Root \"+ confLogRoot.getLevel());\n        LOG_ARQUIVO.debug(\"Loggers configurados\");\n        LOG_PRINC.debug(\"Loggers configurados\");\n    }\n\n}\n"
        }
    ]
}