{
    "sourceFile": "src/main/java/br/com/antoniodiego/gertarefas/ui/opcoes/TelaOpc.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1751340800147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1751340800147,
            "name": "Commit-0",
            "content": "/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage br.com.antoniodiego.gertarefas.ui.opcoes;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.util.Properties;\nimport java.util.SortedMap;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport javax.swing.DefaultComboBoxModel;\n\nimport br.com.antoniodiego.gertarefas.ui.confirmacoes.DialogoConfirmarExcTudo;\nimport br.com.antoniodiego.gertarefas.ui.principal.JanelaPrincipalMatisse;\n\n/**\n *\n * @author AntÃ´nio Diego\n */\n//TODO: Por configu de encoding exporta e importaÃ§ao de xml (por enc separados).\npublic class TelaOpc extends javax.swing.JDialog {\n\n    Properties pr = new Properties();\n    private final File arqProp;\n    //private final DAOUsuario daoUs;\n    //  private final ModeloArvore modelArv;\n    // private final JanelaPrincipalController contPrinc;\n    private final JanelaPrincipalMatisse janPrinc;\n\n    /**\n     * Creates new form TelaOpc\n     *\n     * @param parent\n     * @param modal\n     */\n    public TelaOpc(JanelaPrincipalMatisse parent, boolean modal) {\n        super(parent, modal);\n        this.janPrinc = parent;\n        arqProp = new File(\"conf.properties\");\n        //Mesma instancia carreg prin para causar efeito em tempo real\n//        pr = parent.getControl().getProp();\n//        try {\n//            pr.load(new FileInputStream(arqProp));\n//        } catch (IOException ex) {\n//            Logger.getLogger(TelaOpc.class.getName()).log(Level.SEVERE, null, ex);\n//        }\n        // pr.getProperty(\"mantercon\",\"false\");\n        //   this.daoUs = daoUs;\n        //  this.modelArv = modeloArv;\n        //this.contPrinc = contPrinc;\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // <editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\">//GEN-BEGIN:initComponents\n    private void initComponents() {\n\n        jLabel2 = new javax.swing.JLabel();\n        jButton1 = new javax.swing.JButton();\n        jButton2 = new javax.swing.JButton();\n        jTabbedPane1 = new javax.swing.JTabbedPane();\n        jPanel1 = new javax.swing.JPanel();\n        chekExibirIn = new javax.swing.JCheckBox();\n        jLabel1 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n        comboExp = new javax.swing.JComboBox<>();\n        comoImp = new javax.swing.JComboBox<>();\n        jPanel2 = new javax.swing.JPanel();\n        checkBackupAuto = new javax.swing.JCheckBox();\n        rotPastaBackups = new javax.swing.JLabel();\n        campoPastaBackup = new javax.swing.JTextField();\n        btProcPasta = new javax.swing.JButton();\n        rotTotalManter = new javax.swing.JLabel();\n        campoTotalManter = new javax.swing.JSpinner();\n        jLabel4 = new javax.swing.JLabel();\n        jComboBox1 = new javax.swing.JComboBox<>();\n        jPanel3 = new javax.swing.JPanel();\n        btExcluirTudo = new javax.swing.JButton();\n\n        jLabel2.setText(\"jLabel2\");\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);\n        setTitle(\"Op\\u00e7\\u00f5es\");\n        setLocationByPlatform(true);\n\n        jButton1.setText(\"Salvar\");\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jButton2.setText(\"Cancelar\");\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton2ActionPerformed(evt);\n            }\n        });\n\n        chekExibirIn.setSelected(pr.getProperty(\"exibirin\",\"false\").equalsIgnoreCase(\"true\")\n        );\n        chekExibirIn.setText(\"Exibir di\\u00e1logo login no in\\u00edcio\");\n        chekExibirIn.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                chekExibirInActionPerformed(evt);\n            }\n        });\n\n        jLabel1.setText(\"Encoding de exportação:\");\n\n        jLabel3.setText(\"Encoding de importação:\");\n\n        SortedMap sm = Charset.availableCharsets();\n        DefaultComboBoxModel mod1=new javax.swing.DefaultComboBoxModel<>(sm.keySet().toArray());//new String[]{\"UTF-8\",\"ISO-8859-1\"});\n    comboExp.setModel(mod1);\n    mod1.setSelectedItem(pr.getProperty(\"encoding-exporta\", \"UTF-8\"));\n\n    SortedMap chs = Charset.availableCharsets();\n    DefaultComboBoxModel e =new javax.swing.DefaultComboBoxModel<>(chs.keySet().toArray());\n    comoImp.setModel(e);//new String[] { \"UTF-8\", \"ISO-8859-1\", \"ASCII\"}));\n    e.setSelectedItem(pr.getProperty(\"encoding-importacao\", \"UTF-8\"));\n\n    javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n    jPanel1.setLayout(jPanel1Layout);\n    jPanel1Layout.setHorizontalGroup(\n        jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(jPanel1Layout.createSequentialGroup()\n            .addComponent(chekExibirIn)\n            .addGap(0, 0, Short.MAX_VALUE))\n        .addGroup(jPanel1Layout.createSequentialGroup()\n            .addContainerGap()\n            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                .addComponent(jLabel1)\n                .addComponent(jLabel3))\n            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 200, Short.MAX_VALUE)\n            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                .addComponent(comoImp, 0, 49, Short.MAX_VALUE)\n                .addComponent(comboExp, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n            .addContainerGap())\n    );\n    jPanel1Layout.setVerticalGroup(\n        jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(jPanel1Layout.createSequentialGroup()\n            .addContainerGap()\n            .addComponent(chekExibirIn)\n            .addGap(18, 18, 18)\n            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                .addComponent(jLabel1)\n                .addComponent(comboExp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n            .addGap(21, 21, 21)\n            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                .addComponent(jLabel3)\n                .addComponent(comoImp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n            .addContainerGap(58, Short.MAX_VALUE))\n    );\n\n    jTabbedPane1.addTab(\"Exportação\", jPanel1);\n\n    jPanel2.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));\n\n    checkBackupAuto.setText(\"Habilitar backup automático\");\n\n    rotPastaBackups.setText(\"Pasta dos backups:\");\n\n    btProcPasta.setText(\"...\");\n    btProcPasta.setToolTipText(\"Procurar  a pasta\");\n\n    rotTotalManter.setText(\"Total a manter:\");\n\n    campoTotalManter.setToolTipText(\"Total de backups para serem mantidos na pasta\");\n\n    jLabel4.setText(\"Período:\");\n\n    jComboBox1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { \"Diário\", \"Semanal\", \"Mensal\" }));\n\n    javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\n    jPanel2.setLayout(jPanel2Layout);\n    jPanel2Layout.setHorizontalGroup(\n        jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(jPanel2Layout.createSequentialGroup()\n            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                .addGroup(jPanel2Layout.createSequentialGroup()\n                    .addContainerGap()\n                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                        .addComponent(checkBackupAuto)\n                        .addGroup(jPanel2Layout.createSequentialGroup()\n                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)\n                                .addComponent(rotTotalManter)\n                                .addComponent(rotPastaBackups))\n                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                .addGroup(jPanel2Layout.createSequentialGroup()\n                                    .addComponent(campoPastaBackup, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                                    .addComponent(btProcPasta, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                .addComponent(campoTotalManter, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE)))))\n                .addGroup(jPanel2Layout.createSequentialGroup()\n                    .addGap(85, 85, 85)\n                    .addComponent(jLabel4)))\n            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n    );\n    jPanel2Layout.setVerticalGroup(\n        jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(jPanel2Layout.createSequentialGroup()\n            .addContainerGap()\n            .addComponent(checkBackupAuto)\n            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                .addComponent(rotPastaBackups)\n                .addComponent(campoPastaBackup, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addComponent(btProcPasta))\n            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                .addComponent(jLabel4)\n                .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n            .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                .addComponent(rotTotalManter)\n                .addComponent(campoTotalManter, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n            .addContainerGap(62, Short.MAX_VALUE))\n    );\n\n    jTabbedPane1.addTab(\"Backup\", jPanel2);\n\n    btExcluirTudo.setBackground(new java.awt.Color(238, 100, 100));\n    btExcluirTudo.setText(\"Excluir tudo\");\n    btExcluirTudo.addActionListener(new java.awt.event.ActionListener() {\n        public void actionPerformed(java.awt.event.ActionEvent evt) {\n            btExcluirTudoActionPerformed(evt);\n        }\n    });\n\n    javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);\n    jPanel3.setLayout(jPanel3Layout);\n    jPanel3Layout.setHorizontalGroup(\n        jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(jPanel3Layout.createSequentialGroup()\n            .addContainerGap()\n            .addComponent(btExcluirTudo)\n            .addContainerGap(320, Short.MAX_VALUE))\n    );\n    jPanel3Layout.setVerticalGroup(\n        jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()\n            .addContainerGap(139, Short.MAX_VALUE)\n            .addComponent(btExcluirTudo)\n            .addContainerGap())\n    );\n\n    jTabbedPane1.addTab(\"Dados\", jPanel3);\n\n    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n    getContentPane().setLayout(layout);\n    layout.setHorizontalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n            .addComponent(jButton1)\n            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n            .addComponent(jButton2)\n            .addGap(7, 7, 7))\n        .addComponent(jTabbedPane1)\n    );\n    layout.setVerticalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(layout.createSequentialGroup()\n            .addContainerGap()\n            .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE)\n            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 51, Short.MAX_VALUE)\n            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                .addComponent(jButton1)\n                .addComponent(jButton2))\n            .addContainerGap())\n    );\n\n    pack();\n    }// </editor-fold>//GEN-END:initComponents\n\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed\n        this.dispose();\n    }//GEN-LAST:event_jButton2ActionPerformed\n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed\n        // JanelaPrincipal j = (JanelaPrincipal) getParent();\n        //TODO: Salvar em properties\n        //if (chekExibirIn.isSelected()) {\n        this.pr.setProperty(\"exibirin\", String.valueOf(chekExibirIn.isSelected()));\n        this.pr.setProperty(\"encoding-importacao\", (String) comoImp.getSelectedItem());\n        this.pr.setProperty(\"encoding-exporta\", (String) comboExp.getSelectedItem());\n\n        try {\n            //}\n            pr.store(new FileOutputStream(arqProp), \"Config geretar\");\n        } catch (IOException ex) {\n            Logger.getLogger(TelaOpc.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        this.dispose();\n    }//GEN-LAST:event_jButton1ActionPerformed\n\n    private void chekExibirInActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chekExibirInActionPerformed\n        // TODO add your handling code here:\n    }//GEN-LAST:event_chekExibirInActionPerformed\n\n    private void btExcluirTudoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btExcluirTudoActionPerformed\n        DialogoConfirmarExcTudo dialogoConf = new DialogoConfirmarExcTudo(this);\n\n        dialogoConf.setVisible(true);\n\n        int st = dialogoConf.getReturnStatus();\n\n        if (st == DialogoConfirmarExcTudo.RET_OK) {\n            if (dialogoConf.getCheckSim().isSelected()) {\n//                if (dialogoConf.getCheckBackup().isSelected()) {\n//                    janPrinc.getControl().getDaoUsuario().fazBackupB();\n//                }\n//                janPrinc.getControl().getModeloArv().removeTudo();\n//                janPrinc.getControl().getDaoUsuario().flush();\n//                janPrinc.getControl().atualizaEstadoDosMenusBotoes();\n//                janPrinc.getControl().atualizaBarraDeStatus();\n            }\n        }\n\n    }//GEN-LAST:event_btExcluirTudoActionPerformed\n\n\n    // Variables declaration - do not modify//GEN-BEGIN:variables\n    private javax.swing.JButton btExcluirTudo;\n    private javax.swing.JButton btProcPasta;\n    private javax.swing.JTextField campoPastaBackup;\n    private javax.swing.JSpinner campoTotalManter;\n    private javax.swing.JCheckBox checkBackupAuto;\n    private javax.swing.JCheckBox chekExibirIn;\n    private javax.swing.JComboBox<String> comboExp;\n    private javax.swing.JComboBox<String> comoImp;\n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JComboBox<String> jComboBox1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPanel jPanel2;\n    private javax.swing.JPanel jPanel3;\n    private javax.swing.JTabbedPane jTabbedPane1;\n    private javax.swing.JLabel rotPastaBackups;\n    private javax.swing.JLabel rotTotalManter;\n    // End of variables declaration//GEN-END:variables\n}\n"
        }
    ]
}